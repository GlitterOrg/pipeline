<!DOCTYPE html>
<link rel="import" href="../src/css-poly.html">
<link rel="stylesheet" href="../node_modules/mocha/mocha.css">
<script src="../bower_components/closure-library/closure/goog/base.js"></script>
<script src="../src/deps.js"></script>
<script>goog.require('pipeline');</script>
<script src="../node_modules/mocha/mocha.js"></script>
<script src="../node_modules/chai/chai.js"></script>
<script>
var assert = chai.assert;
mocha.setup({ ui: 'tdd' });
</script>
<script>
registerPropertyHandler('myAlignContent', {
  apply: function(mutation) {
    if (mutation.value == 'inherit')
      return {alignContent: mutation.result.myAlignContentInherit};
    return {alignContent: mutation.value, myAlignContentInherit: mutation.value};
  }
});
registerPropertyHandler('myAlignContentInherit', {inherit: true});
</script>
<div id='mocha'></div>
<css-poly>
#testDiv {
  myAlignContent: flex-start;
}

#child2 {
  myAlignContent: inherit;
}
</css-poly>
<div id='testDiv'><div id='child1'></div><div id='child2'></div></div>
<script>
suite('align-content', function() {
  test('basic value is preserved', function() {
    assert.equal(getComputedStyle(testDiv).alignContent,'flex-start');
  });
  test('inheritance works', function() {
    assert.equal(getComputedStyle(child1).alignContent, 'stretch');
    assert.equal(getComputedStyle(child2).alignContent, 'flex-start');
  });
});

mocha.run();
</script>

